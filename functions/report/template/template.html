<html>
<head>
	<link rel="stylesheet" href="functions/report/template/style.css">
	<link rel="stylesheet" href="functions/report/template/style_details.css">
	<title>Good Cloud Practice Report</title>
</head>
	<body>
		<div class="wrapper">
			<header class="header">
				<center><img src="images/logo.png" alt="Logo"></center>
			</header>
			<main class="content">
				</br></br></br></br></br>

				<table >
					<tbody>
						<tr>
							<td>Report</td>
							<td>{{ date }}</td>
						</tr>
						<tr>
							<td>User : {{ user }}</td>
						</tr>
					</tbody>
				</table>

				{% for project, results in all_results.items() %}
					<center><h1>{{ project }}</h1></center>

					<table class="center_table">
						<tbody>
							<tr>
								<td><img src="functions/report/graph_images/graph_by_severity_{{ project }}.png" alt="Graph {{ project }}"></td>
								<td><img src="functions/report/graph_images/graph_by_types_{{ project }}.png" alt="Graph {{ project }}"></td>
							</tr>
						</tbody>
					</table>
					</br>

					<details>
						<summary>Results ({{ results["numbers_results"][0] }})</summary>
						{% if results["non_compliant"] %}
							<details>
								<summary class="failure">Non compliant ({{ results["numbers_results"][1] }})</summary>
								{% for key, values in results["non_compliant"] %}
									<details>
										<summary class="failure">{{ values[0] }} - {{ key }}</summary>
										<ul>
											<li> 
												<div class="failure">Information
													<span class="info">{{ values[1] }}</span>
												</div>
											</li>
											<li> 
												<div class="failure">Details
													<span class="info">{{ values[2] }}</span>
												</div>
											</li>
											<li> 
												<div class="failure">Fix
													<span class="info">{{ values[3] }}</span>
												</div>
											</li>
											<li> 
												<div class="failure">References
													<span class="info">{{ values[4] }}</span>
												</div>
											</li>
										</ul>
									</details>
								{% endfor %}
							</details>
						{% endif %}
						{% if results["compliant"] %}
							<details>
								<summary class="success">Compliant ({{ results["numbers_results"][2] }})</summary>
								{% for key, values in results["compliant"] %}
									<details>
										<summary class="success">{{ values[0] }} - {{ key }}</summary>
										<ul>
											<li> 
												<div class="success">Information
													<span class="info">{{ values[1] }}</span>
												</div>
											</li>
										</ul>
									</details>
								{% endfor %}
							</details>
						{% endif %}
						{% if results["errors"] %}
							<details>
								<summary class="warning">Errors ({{ results["numbers_results"][3] }})</summary>
								{% for key, values in results["errors"] %}
									<details>
										<summary class="warning">{{ values[0] }} - {{ key }}</summary>
										<ul>
											<li> 
												<div class="warning">Information
													<span class="info">{{ values[1] }}</span>
												</div>
											</li>
										</ul>
									</details>
								{% endfor %}
							</details>
						{% endif %}
					</details>
				{% endfor %}
			</main>
		</div>
	<footer class="footer">
		<center>This is the footer</center>
	</footer>
	</body>
</html>